{% extends "base.html" %}
{% block title %}Crear Usuario{% endblock %}
{% block page_title %}Nuevo Usuario{% endblock %}
{% block content %}
<div class="card">
    <div class="card-header">
        <h5>Registrar Nuevo Usuario</h5>
    </div>
    <div class="card-body">
        <form method="POST">
            <div class="row">
                <div class="col-md-6 mb-3"><label for="username" class="form-label">Username *</label><input type="text"
                        class="form-control" id="username" name="username" required></div>
                <div class="col-md-6 mb-3"><label for="email" class="form-label">Email</label><input type="email"
                        class="form-control" id="email" name="email"></div>
            </div>
            <div class="mb-3"><label for="password" class="form-label">Contraseña *</label><input type="password"
                    class="form-control" id="password" name="password" required><small class="text-muted">Mínimo 6
                    caracteres</small></div>
            <div class="mb-3"><label for="persona_id" class="form-label">Persona Asociada</label><select
                    class="form-select" id="persona_id" name="persona_id">
                    <option value="">Ninguna</option>{% for persona in personas %}<option value="{{ persona.id }}">{{
                        persona.nombre_completo }}</option>{% endfor %}
                </select></div>
            <div class="row">
                <div class="col-md-6 mb-3"><label for="estudiante_id" class="form-label">Estudiante
                        Asociado</label><select class="form-select" id="estudiante_id" name="estudiante_id">
                        <option value="">Ninguno</option>{% for estudiante in estudiantes %}<option
                            value="{{ estudiante.id }}">{{ estudiante.persona.nombre_completo }} ({{
                            estudiante.codigo_estudiante }})</option>{% endfor %}
                    </select></div>
                <div class="col-md-6 mb-3"><label for="docente_id" class="form-label">Docente Asociado</label><select
                        class="form-select" id="docente_id" name="docente_id">
                        <option value="">Ninguno</option>{% for docente in docentes %}<option value="{{ docente.id }}">
                            {{ docente.persona.nombre_completo }} ({{ docente.codigo_docente }})</option>{% endfor %}
                    </select></div>
            </div>
            <div class="mb-3"><label class="form-label">Roles *</label>
                <div class="border p-3 rounded">{% for rol in roles %}<div class="form-check"><input
                            class="form-check-input" type="checkbox" name="roles" value="{{ rol.id }}"
                            id="rol{{ rol.id }}"><label class="form-check-label" for="rol{{ rol.id }}">{{ rol.nombre
                            }}</label></div>{% endfor %}</div>
            </div>
            <div class="mb-3 form-check"><input type="checkbox" class="form-check-input" id="activo" name="activo"
                    checked><label class="form-check-label" for="activo">Usuario Activo</label></div>
            <div class="d-flex justify-content-between"><a href="{{ url_for('usuario.index') }}"
                    class="btn btn-secondary"><i class="bi bi-arrow-left"></i> Cancelar</a><button type="submit"
                    class="btn btn-primary"><i class="bi bi-save"></i> Guardar</button></div>
        </form>
    </div>
</div>
{% endblock %}